<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO & Metadata Otimizada -->
    <title>Loja do Meu Carro | Pe√ßas, Acess√≥rios e Performance - Lan√ßamento Breve!</title>

    <!-- Google Analytics - Mantido, mas otimizado para n√£o bloquear o render -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V4T4V3N4VE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-V4T4V3N4VE');
    </script>

    <!-- Meta Tags Otimizadas -->
    <meta name="description" content="A Loja do Meu Carro ser√° sua nova fonte de pe√ßas e acess√≥rios automotivos. Deixe sua opini√£o no nosso quiz para garantir um cupom de lan√ßamento exclusivo! Acompanhe a saga Karavan K20/ZF8 a Las Vegas.">
    <meta property="og:title" content="Loja do Meu Carro | Em Constru√ß√£o e com Cupom Exclusivo!">
    <meta property="og:description" content="Diga o que voc√™ mais precisa e garanta um cupom exclusivo para o lan√ßamento da nova loja.">
    <!-- A URL da imagem foi mantida como placeholder, mas idealmente deve ser substitu√≠da por uma imagem real do seu logo -->
    <meta property="og:image" content="https://placehold.co/1200x630/d91e18/fff?text=LOGO+LOJA+DO+MEU+CARRO">
    <meta property="og:url" content="https://lojadomeucarro.com.br">
    <meta property="og:type" content="website">

    <!-- Favicon SVG (mantido o carro) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöó</text></svg>">
    
    <!-- Tailwind CSS CDN para design moderno e responsivo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Cores do Tema */
        :root {
            --primary-red: #d91e18;
            --dark-red: #a81713;
        }

        /* Configura√ß√£o do Tailwind para usar as cores do tema */
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-red': 'var(--primary-red)',
                        'dark-red': 'var(--dark-red)',
                        'bg-dark': '#1a1a1a',
                        'card-bg': '#1c1c1c',
                    },
                    fontFamily: {
                        sans: ['Inter', 'Arial', 'sans-serif'],
                    },
                }
            }
        }

        /* Estilo para o fundo de grade sutil */
        body {
            background-color: #1a1a1a;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><rect width="10" height="10" fill="none"/><path d="M0 0h5v5H0zM5 5h5v5H5z" fill="%23222" opacity="0.3"/></svg>');
            font-family: 'Inter', Arial, sans-serif;
        }

        /* Bot√£o principal com gradiente e sombra otimizada */
        .main-button {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* Classe SEO H1 - Mantida a t√©cnica para acessibilidade de leitores de tela */
        .seo-h1 {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
    </style>
    
    <!-- Imports do Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, collection, getDocs, query, where, addDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // Vari√°veis globais (dispon√≠veis no escopo do <script> principal via window)
        window.firebaseApp = null;
        window.db = null;
        window.auth = null;

        // Vari√°veis de ambiente fornecidas pelo Canvas
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        if (firebaseConfig) {
            window.firebaseApp = initializeApp(firebaseConfig);
            window.db = getFirestore(window.firebaseApp);
            window.auth = getAuth(window.firebaseApp);
            
            // 1. Configura√ß√£o de Autentica√ß√£o
            onAuthStateChanged(window.auth, async (user) => {
                if (!user) {
                    // Tenta autenticar com o token personalizado ou anonimamente
                    try {
                        if (initialAuthToken) {
                            await signInWithCustomToken(window.auth, initialAuthToken);
                        } else {
                            await signInAnonymously(window.auth);
                        }
                    } catch (error) {
                        console.error("Erro na autentica√ß√£o Firebase:", error);
                        document.getElementById('firebaseError').classList.remove('hidden');
                    }
                }
                document.body.classList.add('auth-ready');
            });
        } else {
            document.getElementById('firebaseError').classList.remove('hidden');
        }

        // 2. Fun√ß√µes de Escrita para Firestore (Cole√ß√µes P√∫blicas)
        window.saveQuizResponse = async (interest, name, email) => {
            if (!window.db || !window.auth.currentUser) return { success: false, error: "Firebase n√£o pronto." };

            const response = {
                interest: interest,
                name: name,
                email: email,
                timestamp: new Date().toISOString()
            };
            
            const userId = window.auth.currentUser.uid || crypto.randomUUID();
            const collectionPath = `artifacts/${appId}/public/data/quiz_responses`;
            
            try {
                // Adiciona o interesse/sugest√£o
                await addDoc(collection(window.db, collectionPath), response);

                // Se houver e-mail v√°lido, adiciona tamb√©m √† lista de newsletter
                if (email && email.includes('@') && email.includes('.')) {
                    await setDoc(doc(window.db, `artifacts/${appId}/public/data/newsletter_subscribers`, email), {
                        name: name,
                        email: email,
                        optedInAt: new Date().toISOString(),
                        userId: userId,
                    });
                }
                
                return { success: true };
            } catch (error) {
                console.error("Erro ao salvar no Firestore:", error);
                return { success: false, error: error.message };
            }
        };

        // 3. Fun√ß√µes para Envio de Email √önico ao Firestore (usada no bot√£o final)
        window.saveSubscriberEmail = async (name, email) => {
            if (!window.db || !window.auth.currentUser) return { success: false, error: "Firebase n√£o pronto." };

            const userId = window.auth.currentUser.uid || crypto.randomUUID();
            const emailClean = email.toLowerCase().trim();

            const docRef = doc(window.db, `artifacts/${appId}/public/data/newsletter_subscribers`, emailClean);

            try {
                // Tenta buscar se j√° existe
                const q = query(collection(window.db, `artifacts/${appId}/public/data/newsletter_subscribers`), where("email", "==", emailClean));
                const querySnapshot = await getDocs(q);

                if (querySnapshot.docs.length > 0) {
                    return { success: false, error: "E-mail j√° cadastrado." };
                }

                await setDoc(docRef, {
                    name: name,
                    email: emailClean,
                    optedInAt: new Date().toISOString(),
                    userId: userId,
                });

                return { success: true };
            } catch (error) {
                console.error("Erro ao salvar email no Firestore:", error);
                return { success: false, error: error.message };
            }
        };
    </script>

</head>
<body class="min-h-screen text-gray-100 antialiased font-sans">

    <!-- SEO H1 Otimizado para focar nas Palavras-chave -->
    <h1 class="seo-h1">Loja do Meu Carro: Pe√ßas de Reposi√ß√£o, Acess√≥rios Internos, Est√©tica, Performance e Customiza√ß√£o Automotiva.</h1>

    <header class="bg-gray-900/90 shadow-2xl shadow-black/50 p-4 border-b border-red-800">
        <div class="max-w-7xl mx-auto">
            <div class="logo-container">
                <!-- Imagem com alt, largura, altura e lazy loading para performance -->
                <img src="logo web loja do meu carro.png" 
                     alt="Logo Loja do Meu Carro, especialista em pe√ßas e acess√≥rios automotivos" 
                     width="250" height="90"
                     class="mx-auto block filter drop-shadow-[0_0_15px_rgba(217,30,24,0.8)] rounded-lg"
                     loading="lazy"
                     onerror="this.onerror=null; this.src='https://placehold.co/250x90/1c1c1c/fff?text=LOJA+DO+MEU+CARRO'; this.width='250'; this.height='90';">
            </div>
            <p class="mt-2 text-sm md:text-base font-light text-red-100">
                Nova loja em constru√ß√£o. Sua opini√£o vale um cupom exclusivo para o lan√ßamento!
            </p>
        </div>
    </header>

    <main class="container mx-auto p-4 flex justify-center items-start">
        <section class="bg-card-bg w-full max-w-lg mx-auto my-6 p-6 md:p-8 rounded-xl shadow-2xl border border-gray-700">
            
            <div id="firebaseError" class="hidden bg-red-800 text-white p-4 rounded-lg mb-6 text-sm font-semibold border-2 border-red-600">
                ‚ö†Ô∏è Erro de Configura√ß√£o: O Firebase n√£o est√° pronto. A coleta de dados n√£o funcionar√°.
            </div>

            <!-- Quiz de Interesse -->
            <div id="quizSection">
                <h2 class="text-xl md:text-2xl font-bold mb-6 text-white">O que voc√™ mais procura para o seu carro hoje?</h2>
                
                <div class="options-container space-y-3">
                    <div class="option bg-gray-700/50 hover:bg-red-800/80 p-3 md:p-4 rounded-xl cursor-pointer transition duration-300 ease-in-out text-base font-medium border border-gray-600 shadow-md" data-option="Acess√≥rios internos">
                        Acess√≥rios internos (multim√≠dia, tapete, ilumina√ß√£o)
                    </div>
                    <div class="option bg-gray-700/50 hover:bg-red-800/80 p-3 md:p-4 rounded-xl cursor-pointer transition duration-300 ease-in-out text-base font-medium border border-gray-600 shadow-md" data-option="Est√©tica e cuidado">
                        Est√©tica e cuidado (limpeza, polimento, vitrifica√ß√£o)
                    </div>
                    <div class="option bg-gray-700/50 hover:bg-red-800/80 p-3 md:p-4 rounded-xl cursor-pointer transition duration-300 ease-in-out text-base font-medium border border-gray-600 shadow-md" data-option="Performance">
                        Performance (filtros, escapamento, chip, pe√ßas forjadas)
                    </div>
                    <div class="option bg-gray-700/50 hover:bg-red-800/80 p-3 md:p-4 rounded-xl cursor-pointer transition duration-300 ease-in-out text-base font-medium border border-gray-600 shadow-md" data-option="Pe√ßas de reposi√ß√£o">
                        Pe√ßas de reposi√ß√£o (freios, suspens√£o, motor, el√©trica)
                    </div>
                    <div class="option bg-gray-700/50 hover:bg-red-800/80 p-3 md:p-4 rounded-xl cursor-pointer transition duration-300 ease-in-out text-base font-medium border border-gray-600 shadow-md" onclick="showOtherInput(this)">
                        Outro...
                    </div>
                </div>

                <div id="otherBox" class="hidden mt-4 pt-4 border-t border-gray-700">
                    <input type="text" id="otherInput" placeholder="Digite sua sugest√£o de produto/categoria" class="w-full px-4 py-2 mt-2 rounded-lg bg-gray-800 border border-gray-600 focus:border-red-500 focus:ring focus:ring-red-500/50 text-white placeholder-gray-400 text-base">
                    <button id="submitSuggestionButton" class="main-button bg-primary-red hover:bg-dark-red text-white py-2 px-6 rounded-lg font-bold w-full mt-4 shadow-lg shadow-red-800/40" onclick="submitSuggestion()">
                        ENVIAR SUGEST√ÉO
                    </button>
                </div>
            </div>

            <!-- Curiosidade do Dia -->
            <div class="bg-gray-800/50 p-4 rounded-xl mt-6 border border-red-900/50">
                <p class="text-sm text-red-300 font-semibold mb-1">Curiosidade do dia:</p>
                <span id="curiosityText" class="text-sm font-light text-gray-200"></span>
            </div>

            <!-- Coleta de E-mail para Novidades -->
            <div class="novidades mt-8 pt-6 border-t border-gray-700">
                <h3 class="text-lg font-semibold text-primary-red mb-4">Receba um cupom de lan√ßamento e novidades!</h3>
                
                <input type="text" id="nameInput" placeholder="Seu nome (opcional)" class="w-full px-4 py-2 mt-2 rounded-lg bg-gray-800 border border-gray-600 focus:border-red-500 focus:ring focus:ring-red-500/50 text-white placeholder-gray-400 text-base">
                <input type="email" id="emailInput" placeholder="Seu e-mail (obrigat√≥rio)" class="w-full px-4 py-2 mt-2 rounded-lg bg-gray-800 border border-gray-600 focus:border-red-500 focus:ring focus:ring-red-500/50 text-white placeholder-gray-400 text-base">
                
                <button id="submitEmailButton" class="main-button bg-primary-red hover:bg-dark-red text-white py-3 px-6 rounded-lg font-bold w-full mt-4 shadow-lg shadow-red-800/50" onclick="submitEmail()">
                    QUERO RECEBER AS NOVIDADES!
                </button>
            </div>
            
        </section>
    </main>

    <footer class="bg-gray-900/90 text-center p-4 mt-8 border-t border-red-900">
        <p class="text-xs text-gray-400">Loja do Meu Carro ¬© 2025 - Acelerando uma nova fase. | <span class="text-gray-500">Seu ID de Usu√°rio (Necess√°rio para Suporte): <span id="currentUserId">Aguardando Autentica√ß√£o...</span></span></p>
    </footer>

    <!-- Modal para mensagens/erros (Substitui o alert()) -->
    <div id="modalOverlay" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 opacity-0 invisible transition-all duration-300 ease-in-out" onclick="hideModal()">
        <div class="bg-card-bg p-8 rounded-xl max-w-md w-full text-center shadow-[0_0_35px_rgba(217,30,24,0.7)] transform scale-95 transition-all duration-300 ease-in-out" onclick="event.stopPropagation()">
            <h4 id="modalTitle" class="text-2xl font-bold text-primary-red mb-3"></h4>
            <p id="modalMessage" class="text-gray-300 mb-6"></p>
            <button class="bg-primary-red hover:bg-dark-red text-white font-bold py-2 px-6 rounded-lg transition duration-200" onclick="hideModal()">
                Entendi
            </button>
        </div>
    </div>

    <script>
        let selectedOption = "";
        let isSubmitting = false; // Flag de envio unificado
        
        // Elementos DOM
        const options = document.querySelectorAll('.option');
        const submitEmailButton = document.getElementById('submitEmailButton');
        const submitSuggestionButton = document.getElementById('submitSuggestionButton');
        const otherInput = document.getElementById('otherInput');
        const otherBox = document.getElementById('otherBox');
        const nameInput = document.getElementById('nameInput');
        const emailInput = document.getElementById('emailInput');
        const userIdSpan = document.getElementById('currentUserId');

        // --- Fun√ß√µes de UI e Utilidade ---

        /** Exibe o modal customizado. */
        function showModal(title, message) {
            document.getElementById('modalTitle').innerText = title;
            document.getElementById('modalMessage').innerText = message;
            const modal = document.getElementById('modalOverlay');
            modal.classList.add('visible');
            modal.classList.remove('invisible', 'opacity-0');
            modal.classList.add('opacity-100');
        }

        /** Esconde o modal. */
        function hideModal() {
            const modal = document.getElementById('modalOverlay');
            modal.classList.remove('visible', 'opacity-100');
            modal.classList.add('opacity-0', 'invisible');
        }

        /** Valida√ß√£o b√°sica de e-mail. */
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]{2,4}$/;
            return emailRegex.test(email);
        }

        /** Manipula a sele√ß√£o das op√ß√µes do quiz. */
        options.forEach(option => {
            if (option.hasAttribute('data-option')) {
                option.addEventListener('click', function() {
                    options.forEach(opt => opt.classList.remove('bg-dark-red', 'selected', 'border-red-500'));
                    this.classList.add('bg-dark-red', 'selected', 'border-red-500');
                    selectedOption = this.getAttribute('data-option');
                    
                    otherBox.classList.add('hidden');
                    otherInput.value = '';
                    
                    // Envia a resposta do quiz automaticamente ap√≥s a sele√ß√£o
                    submitQuizResponse(selectedOption); 
                });
            }
        });

        /** Exibe a caixa de texto para sugest√µes. */
        function showOtherInput(clickedOption) {
            options.forEach(opt => opt.classList.remove('bg-dark-red', 'selected', 'border-red-500'));
            clickedOption.classList.add('bg-dark-red', 'selected', 'border-red-500');
            selectedOption = "Outro";
            otherBox.classList.remove('hidden');
        }

        // --- Fun√ß√µes Firebase/Firestore (Substituindo Google Forms) ---
        
        // Define o texto do bot√£o para loading
        function setLoadingState(button, isLoading, originalText) {
            button.disabled = isLoading;
            button.classList.toggle('opacity-50', isLoading);
            button.innerText = isLoading ? "Enviando..." : originalText;
        }

        /** * Envia a resposta do quiz para o Firestore.
         * √â chamada automaticamente ao clicar em uma op√ß√£o de quiz.
         */
        async function submitQuizResponse(answer) {
            if (isSubmitting || !window.saveQuizResponse) return;
            isSubmitting = true;

            const name = nameInput.value.trim() || "Resposta do Quiz (Nome N√£o Informado)";
            const email = emailInput.value.trim() || "Nao_Fornecido@quiz.com";

            // N√£o altera o estado visual do bot√£o principal, pois √© um envio secund√°rio e discreto
            // N√£o precisa de valida√ß√£o de email aqui, pois o objetivo principal √© registrar o interesse.

            try {
                const result = await window.saveQuizResponse(answer, name, email);
                if (result.success) {
                    console.log(`Resposta do Quiz enviada para Firestore: ${answer}`);
                } else {
                    console.error("Erro no Quiz:", result.error);
                }
            } catch (error) {
                console.error("Erro fatal ao enviar Quiz:", error);
            } finally {
                isSubmitting = false;
            }
        }


        /** * Envia a sugest√£o de produto para o Firestore.
         * Chamada ao clicar no bot√£o "ENVIAR SUGEST√ÉO".
         */
        async function submitSuggestion() {
            if (isSubmitting) return;
            
            const suggestionValue = otherInput.value.trim();

            if (!suggestionValue) {
                showModal("Aten√ß√£o", "Por favor, digite sua sugest√£o para envi√°-la.");
                return;
            }

            isSubmitting = true;
            setLoadingState(submitSuggestionButton, true, "ENVIAR SUGEST√ÉO");

            const name = nameInput.value.trim() || "Sugest√£o (Nome N√£o Informado)";
            const email = emailInput.value.trim() || "Nao_Fornecido@sugestao.com";
            const interest = "Sugest√£o de Produto: " + suggestionValue;
            
            try {
                const result = await window.saveQuizResponse(interest, name, email);

                if (result.success) {
                    otherInput.value = '';
                    otherBox.classList.add('hidden');
                    options.forEach(opt => opt.classList.remove('bg-dark-red', 'selected', 'border-red-500'));
                    showModal("Sugest√£o Enviada!", "Obrigado! Sua sugest√£o foi registrada com sucesso.");
                } else {
                    showModal("Erro no Envio", "Ocorreu um erro ao registrar sua sugest√£o: " + result.error);
                }
            } catch (error) {
                showModal("Erro Cr√≠tico", "N√£o foi poss√≠vel conectar ao sistema de dados. Detalhe: " + error.message);
            } finally {
                isSubmitting = false;
                setLoadingState(submitSuggestionButton, false, "ENVIAR SUGEST√ÉO");
            }
        }


        /** * Envia o e-mail para lista de novidades.
         * Chamada ao clicar no bot√£o "QUERO RECEBER AS NOVIDADES!".
         */
        async function submitEmail() {
            if (isSubmitting) return;
            
            const emailValue = emailInput.value.trim();
            const nameValue = nameInput.value.trim() || "N√£o Informado";

            if (!emailValue || !isValidEmail(emailValue)) {
                showModal("E-mail Inv√°lido", "Por favor, digite um e-mail v√°lido para receber o cupom.");
                return;
            }
            if (!window.saveSubscriberEmail) {
                showModal("Erro de Sistema", "O sistema de dados (Firebase) n√£o est√° inicializado. Tente recarregar a p√°gina.");
                return;
            }
            
            isSubmitting = true;
            setLoadingState(submitEmailButton, true, "QUERO RECEBER AS NOVIDADES!");

            try {
                // Tenta salvar o email na cole√ß√£o de newsletter
                const result = await window.saveSubscriberEmail(nameValue, emailValue);

                if (result.success) {
                    // Limpa o email/nome ap√≥s o sucesso (opcional, mas bom para UX)
                    nameInput.value = nameValue; 
                    emailInput.value = emailValue; 
                    showModal("Cadastro Conclu√≠do!", "E-mail cadastrado! Em breve voc√™ receber√° seu cupom e as novidades.");
                    
                    // Adicionalmente, salva a inten√ß√£o de cupom no log de quiz (apenas por seguran√ßa)
                    await window.saveQuizResponse("Interesse em Novidades e Cupom", nameValue, emailValue);
                } else if (result.error === "E-mail j√° cadastrado.") {
                    showModal("E-mail J√° Cadastrado", "Parece que voc√™ j√° est√° na nossa lista de espera! Fique tranquilo, seu cupom est√° garantido.");
                } else {
                    showModal("Erro no Envio", "Ocorreu um erro ao registrar seu e-mail: " + result.error);
                }
            } catch (error) {
                showModal("Erro Cr√≠tico", "N√£o foi poss√≠vel conectar ao sistema de dados. Detalhe: " + error.message);
            } finally {
                isSubmitting = false;
                setLoadingState(submitEmailButton, false, "QUERO RECEBER AS NOVIDADES!");
            }
        }

        // --- L√≥gica da Curiosidade do Dia ---

        const curiosities = [
            // Mantendo a lista original de curiosidades
            "O projeto Karavan ACF a Las Vegas foi selecionado para ser um dos finalistas do prestigiado **'Battle of the Builders' no SEMA Show 2025**, a maior feira de customiza√ß√£o do mundo. O carro competir√° como um dos melhores projetos do ano.",
            "A Caravan original foi totalmente transformada com o motor **K20/K24 da Honda** e um c√¢mbio autom√°tico **ZF8HP de 8 marchas**, uma das adapta√ß√µes mais insanas e complexas j√° feitas no Brasil, que a ACF est√° levando rodando at√© os EUA.",
            "O nome **'Karavan' com K** foi escolhido como uma homenagem ao motor **K20 da Honda**, que √© o cora√ß√£o de performance do projeto. O carro vai percorrer **mais de 16.000 km** do Brasil at√© Las Vegas.",
            "A eletr√¥nica do projeto √© de ponta: o motor K20/K24 √© gerenciado por uma inje√ß√£o program√°vel **FuelTech FT700**, respons√°vel por controlar o motor, o c√¢mbio de 8 marchas e registrar toda a telemetria da √©pica viagem.",
            "A jornada da Karavan est√° sendo transmitida em tempo real nas lives do canal **Ricardinho ACF**, que chegam a picos de mais de **17 mil espectadores** simult√¢neos. Eles usam antenas Starlink para garantir a conex√£o na estrada.",
            "Nos primeiros dias de viagem, o projeto enfrentou problemas t√©cnicos. O c√¢mbio **ZF8HP** perdeu algumas marchas e foi necess√°rio lidar com o **diferencial**, provando que a aventura √© real e cheia de desafios automotivos.",
            "Apesar de ser um projeto de alt√≠ssima performance, o motor K20 se encaixou no cofre original da Caravan com m√≠nimas altera√ß√µes, apenas no c√°rter. A suspens√£o tamb√©m foi customizada para aguentar os **16.000 km** da rota.",
            "Para cumprir o prazo de 30 dias e chegar ao SEMA Show em Las Vegas, a equipe do ACF precisa manter uma m√©dia de **1.000 km rodados por dia** com a Karavan, uma meta ambiciosa para um carro t√£o modificado.",
            "A **Pot√™ncia** do motor **K20/K24 da Honda** adaptado pela ACF na Karavan √© capaz de gerar mais de **300 cavalos de pot√™ncia**. Essa √© uma performance insana e inesperada para um ve√≠culo originalmente familiar como a Caravan.",
            "Para parar toda essa pot√™ncia e garantir a seguran√ßa na viagem de **16.000 km**, a Karavan recebeu um sistema de freios de **alta performance** de carros esportivos de luxo, adaptado pela ACF para o eixo traseiro da van.",
            "Os **Pneus de Competi√ß√£o** utilizados na Karavan s√£o especiais. A equipe do Ricardinho ACF escolheu um modelo homologado para rua, que consegue suportar a alta velocidade e as longas dist√¢ncias da √©pica viagem at√© Las Vegas.",
            "Al√©m da mec√¢nica extrema, a Karavan recebeu um **interior totalmente customizado** pela ACF, com bancos esportivos e instrumenta√ß√£o digital de ponta, transformando a cabine para se adequar √† proposta de carro de exposi√ß√£o e endurance.",
            "O carro mais vendido de todos os tempos √© o **Toyota Corolla**, com mais de 50 milh√µes de unidades comercializadas desde seu lan√ßamento original em 1966.",
            "O primeiro carro a atingir a marca de 100 km/h foi o el√©trico **La Jamais Contente**, em 1899. Ele era em formato de foguete e movido a dois motores el√©tricos.",
            "Voc√™ sabia que o **controle de cruzeiro** (piloto autom√°tico) foi inventado por Ralph Teetor, um engenheiro cego, que se irritava com a forma irregular com que seu motorista dirigia?",
            "A maior multa de tr√¢nsito j√° registrada foi na Su√≠√ßa, onde um motorista de carro esportivo foi multado em cerca de **$1 milh√£o de d√≥lares** por exceder drasticamente o limite de velocidade.",
            "Os primeiros para-brisas eram de vidro comum e perigosos. O **vidro laminado** (que n√£o estilha√ßa em cacos) foi inventado ap√≥s um qu√≠mico se ferir acidentalmente com frascos de laborat√≥rio em 1903.",
            "O famoso **'odor de carro novo'** √©, na verdade, uma combina√ß√£o de mais de 50 compostos qu√≠micos vol√°teis (COVs) usados nos pl√°sticos, colas e tecidos internos do ve√≠culo.",
            "Um carro de F√≥rmula 1 √© capaz de acelerar de 0 a 160 km/h e frear de volta a 0 em cerca de **5 segundos**, gra√ßas √† sua leveza e aos freios de carbono.",
            "Em 1941, todos os carros novos produzidos nos Estados Unidos foram fabricados com **volantes no lado direito**, devido a uma iniciativa de conserva√ß√£o de materiais durante a Segunda Guerra Mundial.",
            "O **airbag**, item de seguran√ßa obrigat√≥rio, foi patenteado pela primeira vez nos anos 1950, mas s√≥ se tornou um equipamento padr√£o na maioria dos ve√≠culos nos anos 1990.",
            "O primeiro carro com inje√ß√£o eletr√¥nica de combust√≠vel foi o cl√°ssico **Mercedes-Benz 300 SL Gullwing** em 1954, substituindo o carburador e melhorando a efici√™ncia e pot√™ncia do motor.",
            "A Chevrolet vendeu mais de **100 milh√µes** de unidades do modelo Impala, fazendo dele um dos carros mais ic√¥nicos e longevos da hist√≥ria automotiva americana.",
            "O carro mais r√°pido do mundo atualmente para produ√ß√£o em s√©rie √© o **Bugatti Chiron Super Sport 300+**, que pode atingir velocidades acima de 490 km/h em testes homologados.",
            "Em um ano, a ind√∫stria automobil√≠stica mundial produz mais de **80 milh√µes de carros e caminh√µes** novos, mais do que a popula√ß√£o de muitos pa√≠ses.",
            "As luzes de freio traseiras (lanternas de freio) foram inventadas em 1905, mas s√≥ se tornaram um recurso padr√£o e amplamente adotado nos carros na d√©cada de 1930.",
            "A inven√ß√£o do **limpador de para-brisa** √© creditada a Mary Anderson em 1903, que teve a ideia ap√≥s notar a dificuldade dos motoristas em limpar o vidro manualmente durante nevascas.",
            "A cor **vermelho-Ferrari** (Rosso Corsa) n√£o √© a cor oficial de f√°brica. Na verdade, era a cor tradicionalmente usada pelos carros de corrida italianos nas competi√ß√µes internacionais.",
            "Os carros modernos usam cerca de **30.000 pe√ßas** diferentes, contando desde o motor at√© os parafusos e componentes menores internos.",
            "O sistema **ABS (Anti-lock Braking System)**, que evita o travamento das rodas na frenagem, foi desenvolvido para aeronaves nos anos 1920 e s√≥ chegou aos carros de rua d√©cadas depois.",
            "A primeira corrida de rua registrada aconteceu entre Paris e Rouen em 1894, e o vencedor alcan√ßou uma velocidade m√©dia de modestos **18.7 km/h**.",
            "O Brasil foi o primeiro pa√≠s a obrigar a produ√ß√£o de carros com **motores flex** (etanol e gasolina) em 2003, liderando a tecnologia de biocombust√≠veis no mundo.",
            "O **motor rotativo Wankel**, famoso em carros da Mazda, usa um rotor triangular em vez de pist√µes e √© conhecido por ser compacto e produzir muita pot√™ncia para seu tamanho e peso.",
            "As chaves codificadas e o **imobilizador eletr√¥nico** se tornaram o padr√£o de seguran√ßa para proteger contra roubos. Antes, bastava uma chave simples para ligar a maioria dos carros.",
            "Um carro m√©dio passa cerca de **95%** do seu tempo estacionado, seja na garagem, no trabalho ou em estacionamentos p√∫blicos.",
            "O recorde de maior quilometragem em um √∫nico ve√≠culo pertence a um Volvo P1800 de 1966, que rodou mais de **5.2 milh√µes de quil√¥metros** (3.2 milh√µes de milhas).",
            "O primeiro **farol de milha** (luz de neblina) foi introduzido por um fabricante de acess√≥rios em 1938 para melhorar a visibilidade em condi√ß√µes clim√°ticas adversas, como forte neblina.",
            "O conceito de **pneu sem c√¢mara** (tubeless), que dispensa a c√¢mara de ar interna, foi patenteado pela Michelin em 1946 e melhorou drasticamente a seguran√ßa contra furos lentos.",
            "Voc√™ sabia que a buzina de um carro √© projetada para soar em uma frequ√™ncia espec√≠fica (geralmente entre 300 e 500 Hz) para ser **facilmente distingu√≠vel** de outros ru√≠dos do tr√°fego?",
            "Um carro el√©trico, como o **Tesla Model S Plaid**, det√©m o recorde de acelera√ß√£o para um ve√≠culo de produ√ß√£o, atingindo 100 km/h em menos de 2 segundos, um feito impressionante."
        ];

        /** Seleciona uma curiosidade do dia de forma consistente. */
        function getCuriosityOfTheDay(curiosityList) {
            const today = new Date();
            const startOfYear = new Date(today.getFullYear(), 0, 0);
            const diff = today - startOfYear;
            const oneDay = 1000 * 60 * 60 * 24;
            const dayOfYear = Math.floor(diff / oneDay);
            const index = dayOfYear % curiosityList.length;

            return curiosityList[index];
        }

        // --- Inicializa√ß√£o e Autentica√ß√£o (Chama na Autentica√ß√£o) ---
        
        document.body.onload = function() {
            // Exibe a curiosidade
            document.getElementById("curiosityText").innerHTML = getCuriosityOfTheDay(curiosities);
            
            // Adiciona listener para a autentica√ß√£o
            if (window.auth) {
                window.auth.onAuthStateChanged((user) => {
                    if (user) {
                        userIdSpan.textContent = user.uid;
                    } else {
                        userIdSpan.textContent = 'Anonimo';
                    }
                });
            }
        };

        // Adiciona um listener para logar erros no console
        console.setLogLevel = function(level) {
            console.log(`Log Level set to ${level}`);
        };
        console.setLogLevel('Debug');
    </script>

</body>
</html>
